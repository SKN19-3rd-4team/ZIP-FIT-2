# API ν™•μΈ ν•„μ”μ‚¬ν•­

> **127.0.0.1:8000/api/docs ν™•μΈ ν›„ μ—…λ°μ΄νΈ ν•„μ”**

---

## π” ν™•μΈ ν•„μ” API

### 1. user_key μƒμ„± API

**μ§λ¬Έ**: user_keyλ¥Ό APIμ—μ„ μƒμ„±ν•λ”κ°€?

**ν™•μΈ λ°©λ²•**:
1. `127.0.0.1:8000/api/docs` μ ‘μ†
2. user_key κ΄€λ ¨ μ—”λ“ν¬μΈνΈ ν™•μΈ
3. μƒμ„± APIκ°€ μλ‹¤λ©΄ μ—”λ“ν¬μΈνΈμ™€ μ”μ²­/μ‘λ‹µ ν•μ‹ ν™•μΈ

**ν„μ¬ μƒνƒ**:
- `docs/api/api.yaml`μ—λ” user_key μƒμ„± API μ—†μ
- ν”„λ΅ νΈμ—”λ“μ—μ„ μƒμ„±ν•λ” λ°©μ‹μΌλ΅ κµ¬ν„λ¨

**ν™•μΈ ν›„ μ΅°μΉ**:
- [ ] APIμ—μ„ μƒμ„±ν•λ‹¤λ©΄ β†’ `api.js`μ `generateUserKey()` ν•¨μ μμ •
- [ ] APIμ—μ„ μƒμ„±ν•μ§€ μ•λ”λ‹¤λ©΄ β†’ ν„μ¬ λ°©μ‹ μ μ§€

---

### 2. session_key μƒμ„± API

**μ§λ¬Έ**: session_keyλ¥Ό APIμ—μ„ μƒμ„±ν•λ”κ°€?

**ν™•μΈ λ°©λ²•**:
1. `127.0.0.1:8000/api/docs` μ ‘μ†
2. session_key κ΄€λ ¨ μ—”λ“ν¬μΈνΈ ν™•μΈ
3. μƒμ„± APIκ°€ μλ‹¤λ©΄ μ—”λ“ν¬μΈνΈμ™€ μ”μ²­/μ‘λ‹µ ν•μ‹ ν™•μΈ

**ν„μ¬ μƒνƒ**:
- `docs/api/api.yaml`μ—λ” session_key μƒμ„± API μ—†μ
- ν”„λ΅ νΈμ—”λ“μ—μ„ UUID μƒμ„±ν•λ” λ°©μ‹μΌλ΅ κµ¬ν„λ¨

**ν™•μΈ ν›„ μ΅°μΉ**:
- [ ] APIμ—μ„ μƒμ„±ν•λ‹¤λ©΄ β†’ `api.js`μ `createSessionKey()` ν•¨μ μμ •
- [ ] APIμ—μ„ μƒμ„±ν•μ§€ μ•λ”λ‹¤λ©΄ β†’ ν„μ¬ λ°©μ‹ μ μ§€

---

## β… ν™•μΈλ API

### 1. POST `/api/chat`
- **μ©λ„**: μ±„ν… λ©”μ‹μ§€ μ „μ†΅ λ° AI μ‘λ‹µ λ°›κΈ°
- **μ”μ²­**: `{user_key, session_key, user_message}`
- **μ‘λ‹µ**: `{status, message, data: {ai_response: {...}}}`

### 2. GET `/api/chathistories`
- **μ©λ„**: μ±„ν… νμ¤ν† λ¦¬ λ©λ΅ μ΅°ν
- **νλΌλ―Έν„°**: `user_key` (query)
- **μ‘λ‹µ**: `{status, message, data: [{title, session_key}, ...]}`

### 3. GET `/api/chathistories/{session_key}`
- **μ©λ„**: νΉμ • μ±„ν… νμ¤ν† λ¦¬ μƒμ„Έ μ΅°ν
- **νλΌλ―Έν„°**: `session_key` (path), `user_key` (query)
- **μ‘λ‹µ**: `{status, message, data: {title, session_key, user_key, chat_list: [...]}}`

### 4. GET `/api/anncs`
- **μ©λ„**: κ³µκ³  λ©λ΅ μ΅°ν
- **νλΌλ―Έν„°**: `annc_title`, `annc_status`, `annc_type`, `items_per_page`, `current_page`
- **μ‘λ‹µ**: `{status, message, data: {page_info: {...}, items: [...]}}`

### 5. GET `/api/annc_summary`
- **μ©λ„**: κ³µκ³  μ”μ•½ μ •λ³΄ μ΅°ν
- **μ‘λ‹µ**: `{status, message, data: {cnt_total, cnt_lease, cnt_sale, cnt_etc}}`

---

## π“ ν™•μΈ ν›„ μ—…λ°μ΄νΈ ν•„μ”

1. **user_key μƒμ„± λ°©μ‹**
   - [ ] APIμ—μ„ μƒμ„±ν•λ”κ°€?
   - [ ] ν”„λ΅ νΈμ—”λ“μ—μ„ μƒμ„±ν•λ”κ°€?
   - [ ] μ—”λ“ν¬μΈνΈ: `_________________`

2. **session_key μƒμ„± λ°©μ‹**
   - [ ] APIμ—μ„ μƒμ„±ν•λ”κ°€?
   - [ ] ν”„λ΅ νΈμ—”λ“μ—μ„ μƒμ„±ν•λ”κ°€?
   - [ ] μ—”λ“ν¬μΈνΈ: `_________________`

3. **κΈ°νƒ€ ν™•μΈ μ‚¬ν•­**
   - [ ] API μ‘λ‹µ ν•μ‹ ν™•μΈ
   - [ ] μ—λ¬ μ²λ¦¬ λ°©μ‹ ν™•μΈ
   - [ ] μΈμ¦/μΈκ°€ λ°©μ‹ ν™•μΈ

---

**μ‘μ„±μΌ**: 2025-01-20  
**μƒνƒ**: API λ¬Έμ„ ν™•μΈ ν•„μ” β οΈ

