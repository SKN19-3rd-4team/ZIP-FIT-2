# dotenv 오류 즉시 해결 방법

> **Jupyter Notebook에서 바로 해결하기**

---

## 🚀 즉시 해결 (1분 안에)

### 크롤링.ipynb의 Cell 2를 다음 코드로 교체:

```python
# ============================================
# 환경 변수 로드 (dotenv 모듈 자동 설치 포함)
# ============================================
import os
import sys
import subprocess
from pathlib import Path

# dotenv 모듈 설치 확인 및 설치
try:
    import dotenv
    print("✅ dotenv 모듈 사용 가능")
except ImportError:
    print("📦 dotenv 모듈 설치 중...")
    subprocess.check_call([sys.executable, "-m", "pip", "install", "python-dotenv", "-q"])
    import dotenv
    print("✅ dotenv 모듈 설치 완료")

from dotenv import load_dotenv

# .env 파일 위치 확인 (프로젝트 루트)
project_root = Path.cwd().parent if Path.cwd().name == 'zf_crawler' else Path.cwd()
env_file = project_root / '.env'

if env_file.exists():
    print(f"✅ .env 파일 발견: {env_file}")
    load_dotenv(env_file)
else:
    print(f"⚠️ .env 파일 없음: {env_file}")
    print("환경 변수는 시스템 환경 변수에서 로드됩니다.")
    load_dotenv()  # 상위 디렉토리에서도 찾음

print(f"현재 작업 디렉토리: {os.getcwd()}")
print(f"프로젝트 루트: {project_root}")
```

---

## 📝 설명

### 1. dotenv 모듈 자동 설치
- `dotenv` 모듈이 없으면 자동으로 설치
- 현재 Jupyter Notebook이 사용하는 Python에 설치됨

### 2. .env 파일 위치
- `.env` 파일은 **프로젝트 루트** (`C:\SKN_19\ZIP-FIT-2\.env`)에 있어야 함
- `zf_crawler` 폴더에 있을 필요 없음
- 없어도 환경 변수는 시스템 환경 변수에서 로드됨

### 3. DJANGO_SECRET_KEY 주석 처리
- `.env` 파일에서 `DJANGO_SECRET_KEY`가 주석 처리되어 있어도 문제 없음
- `dotenv` 모듈 오류와는 무관

---

## ✅ 확인 방법

**Cell 2 실행 후 출력 예시**:
```
✅ dotenv 모듈 설치 완료
✅ .env 파일 발견: C:\SKN_19\ZIP-FIT-2\.env
현재 작업 디렉토리: C:\SKN_19\ZIP-FIT-2\zf_crawler
프로젝트 루트: C:\SKN_19\ZIP-FIT-2
```

**또는 .env 파일이 없을 때**:
```
✅ dotenv 모듈 사용 가능
⚠️ .env 파일 없음: C:\SKN_19\ZIP-FIT-2\.env
환경 변수는 시스템 환경 변수에서 로드됩니다.
현재 작업 디렉토리: C:\SKN_19\ZIP-FIT-2\zf_crawler
프로젝트 루트: C:\SKN_19\ZIP-FIT-2
```

---

## 💡 추가 팁

### .env 파일이 없다면 생성

**프로젝트 루트에 `.env` 파일 생성** (`C:\SKN_19\ZIP-FIT-2\.env`):
```env
# PostgreSQL Database 설정
DB_HOST=localhost
DB_PORT=5432
DB_USER=zf_admin
DB_PASSWORD=zf_pwd1
DB_NAME=zf_db

# API 키 (필요시)
UPSTAGE_API_KEY=your_key_here
OPENAI_API_KEY=your_key_here
```

**주의**: `DJANGO_SECRET_KEY`는 Django 프로젝트용이므로 크롤러에서는 필요 없을 수 있습니다.

---

**작성일**: 2025-01-20  
**상태**: 즉시 해결 방법 제공 완료

