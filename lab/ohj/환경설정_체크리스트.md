# í™˜ê²½ ì„¤ì • ì²´í¬ë¦¬ìŠ¤íŠ¸

> **figma_django í”„ë¡œì íŠ¸ ê°œë°œ ì‹œì‘ ì „ í•„ìˆ˜ í™˜ê²½ ì„¤ì •**

---

## âœ… í•„ìˆ˜ í™˜ê²½ ì„¤ì • ë‹¨ê³„

### 1. Conda ê°€ìƒí™˜ê²½ ì„¤ì •

- [ ] Conda ê°€ìƒí™˜ê²½ ìƒì„±
  ```bash
  conda create -n zipfit_env python=3.12
  ```

- [ ] ê°€ìƒí™˜ê²½ í™œì„±í™”
  ```bash
  conda activate zipfit_env
  ```

- [ ] camelot-py ì„¤ì¹˜ (íŒ€ì› ê³µìœ  ì˜ì¡´ì„±)
  ```bash
  conda install -c conda-forge camelot-py
  ```

---

### 2. Docker PostgreSQL ì„¤ì • (ì„ íƒì‚¬í•­ - ê°œë°œ ì´ˆê¸°ì—ëŠ” SQLite ì‚¬ìš© ê°€ëŠ¥)

- [ ] Docker ì»¨í…Œì´ë„ˆ ì‹¤í–‰
  ```bash
  docker run -d `
  -e POSTGRES_USER=zf_admin `
  -e POSTGRES_PASSWORD=zf_pwd1 `
  -e POSTGRES_DB=zf_db `
  --name zf_db_container `
  -p 5432:5432 `
  pgvector/pgvector:pg17
  ```

- [ ] pgvector í™•ì¥ ì„¤ì¹˜
  ```bash
  docker exec -it zf_db_container psql -U zf_admin -d zf_db
  CREATE EXTENSION IF NOT EXISTS vector;
  ```

**ì°¸ê³ **: ê°œë°œ ì´ˆê¸°ì—ëŠ” SQLite ì‚¬ìš© ê¶Œì¥ (ì„¤ì • ê°„ë‹¨)

---

### 3. í”„ë¡œì íŠ¸ í´ë” ë° íŒŒì¼ ìƒì„±

- [ ] `figma_django` í´ë” ìƒì„±
- [ ] `requirements.txt` íŒŒì¼ ìƒì„± (ë‚´ìš©ì€ `lab/ohj/figma_django_requirements.txt` ì°¸ê³ )
- [ ] `.env` íŒŒì¼ ìƒì„± (ë‚´ìš©ì€ `lab/ohj/figma_django_env_example.txt` ì°¸ê³ )

**ì£¼ì˜**: `.env` íŒŒì¼ì€ `.gitignore`ì— ì¶”ê°€í•˜ì—¬ Gitì— ì»¤ë°‹í•˜ì§€ ì•Šë„ë¡ ì£¼ì˜!

---

### 4. Python íŒ¨í‚¤ì§€ ì„¤ì¹˜

- [ ] requirements.txt ì˜ì¡´ì„± ì„¤ì¹˜
  ```bash
  pip install -r requirements.txt
  ```

**ì„¤ì¹˜ í™•ì¸**:
```bash
pip list | grep Django
pip list | grep djangorestframework
pip list | grep python-decouple
```

---

### 5. Django í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì •

- [ ] Django í”„ë¡œì íŠ¸ ìƒì„±
  ```bash
  cd figma_django
  django-admin startproject config .
  ```

- [ ] Django ì•± ìƒì„±
  ```bash
  python manage.py startapp web
  python manage.py startapp chatbot
  ```

- [ ] `config/settings.py` ì„¤ì •
  - [ ] `from decouple import config` ì„í¬íŠ¸ ì¶”ê°€
  - [ ] `SECRET_KEY = config('DJANGO_SECRET_KEY')` ì„¤ì •
  - [ ] `INSTALLED_APPS`ì— `'rest_framework'`, `'web'`, `'chatbot'` ì¶”ê°€
  - [ ] Database ì„¤ì • (PostgreSQL ë˜ëŠ” SQLite)
  - [ ] `API_BASE_URL` ì„¤ì • ì¶”ê°€

- [ ] ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
  ```bash
  python manage.py migrate
  ```

---

### 6. ìœ í‹¸ë¦¬í‹° íŒŒì¼ ìƒì„±

- [ ] `web/utils.py` íŒŒì¼ ìƒì„±
  - [ ] `generate_user_id()` í•¨ìˆ˜ ì¶”ê°€
  - [ ] `get_or_create_session_key()` í•¨ìˆ˜ ì¶”ê°€
  - [ ] `get_or_create_user_id()` í•¨ìˆ˜ ì¶”ê°€

---

### 7. ê°œë°œìš© í´ë” ìƒì„±

- [ ] `lab/ohj/chat_responses/` í´ë” ìƒì„±
  ```bash
  mkdir -p lab/ohj/chat_responses
  ```

---

## ğŸš€ ê°œë°œ ì„œë²„ ì‹¤í–‰ í™•ì¸

- [ ] ê°œë°œ ì„œë²„ ì‹¤í–‰
  ```bash
  python manage.py runserver
  ```

- [ ] ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì† í™•ì¸
  ```
  http://localhost:8000
  ```

- [ ] ì—ëŸ¬ ì—†ì´ ì‹¤í–‰ë˜ëŠ”ì§€ í™•ì¸

---

## âš ï¸ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### PostgreSQL ì—°ê²° ì—ëŸ¬ ì‹œ

**í•´ê²°ì±… 1**: SQLite ì‚¬ìš© (ê°œë°œ ì´ˆê¸° ê¶Œì¥)
```python
# config/settings.py
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / "db.sqlite3",
    }
}
```

**í•´ê²°ì±… 2**: Docker ì»¨í…Œì´ë„ˆ í™•ì¸
```bash
docker ps -a
docker start zf_db_container
```

### .env íŒŒì¼ ì¸ì‹ ì•ˆ ë  ë•Œ

- `.env` íŒŒì¼ì´ `figma_django` í´ë” ë£¨íŠ¸ì— ìˆëŠ”ì§€ í™•ì¸
- `python-decouple` íŒ¨í‚¤ì§€ ì„¤ì¹˜ í™•ì¸
- `settings.py`ì—ì„œ `from decouple import config` í™•ì¸

### ê°€ìƒí™˜ê²½ í™œì„±í™” ì•ˆ ë  ë•Œ

**Windows PowerShell**:
```powershell
conda activate zipfit_env
```

**Windows CMD**:
```cmd
conda activate zipfit_env
```

---

## ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìš”ì•½

**í™˜ê²½ ì„¤ì • ì™„ë£Œ ê¸°ì¤€**:
- âœ… Conda ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
- âœ… requirements.txt ì˜ì¡´ì„± ì„¤ì¹˜ ì™„ë£Œ
- âœ… .env íŒŒì¼ ìƒì„± ë° ì„¤ì • ì™„ë£Œ
- âœ… Django í”„ë¡œì íŠ¸ ìƒì„± ì™„ë£Œ
- âœ… settings.py ì„¤ì • ì™„ë£Œ
- âœ… ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ ì™„ë£Œ
- âœ… ê°œë°œ ì„œë²„ ì‹¤í–‰ í™•ì¸ ì™„ë£Œ

---

**ì‘ì„±ì¼**: 2025-01-20  
**ìƒíƒœ**: í™˜ê²½ ì„¤ì • ê°€ì´ë“œ ì™„ë£Œ âœ…

